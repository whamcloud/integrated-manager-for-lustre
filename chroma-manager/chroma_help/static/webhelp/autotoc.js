/*! 
Auto-TOC script functions for Premium Pack Version 1.51 for Help & Manual 6
Copyright (c) 2008-2011 by Tim Green. 
All rights reserved. 
*/
addEvent(window,"load",autoTOC);function truncate(d,a){var c,b;if(a==0){return d;}if((a>0)&&(a<=20)){a=20;}c=d.split("");if(c.length>a){for(b=c.length-1;b>-1;--b){if(b>a){c.length=b;}else{if(" "===c[b]){c.length=b;break;}}}c.push("...");}return c.join("");}function htmlFix(a){heading=a.replace(/\&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a;}function autoTOC(){var b=new Array();var o=new Array();var p=/msie|MSIE 6/.test(navigator.userAgent);var m=initAtocVars();var e=m.atoc_tip;var d=m.atoc_minHeaders;var w=m.atoc_btntip_on;var j=m.atoc_toptip;var h=m.atoc_top;var y=m.atoc_bg;var c=m.atoc_border;var v=m.atoc_linkcolor;var a=m.atoc_linklimit;var n=m.atoc_hovercolor;var q=m.atoc_bgoffset;var u,x,k,g,z,A,t,r,f,l=false;$("span[class*='_atoc_']").parent("td:not(:has(span[class='temp_atoc_']))").each(function(){var i=$(this).html();i='<span class="temp_atoc_">'+i+"</span>";$(this).html(i);});$("span[class*='_atocs_']").parent("td:not(:has(span[class='temp_atocs_']))").each(function(){var i=$(this).html();i='<span class="temp_atocs_">'+i+"</span>";$(this).html(i);});b=$("[class*='_atoc_'],[class*='_atocs_']").filter("[class^='p_']").add("span[class='temp_atoc_'],span[class='temp_atocs_']");if(b.length>=d){for(var s=0;s<b.length;s++){u=b[s];x=$(b[s]).text();x=trim(x);x=htmlFix(x);k=$(u).attr("class");if(k.indexOf("_atocs_")!=-1){g=true;}else{g=false;}if(x.length==1){x=x.replace(/\xa0/,"");}if(x!=""){l=true;A="autoTOC"+s;z=x.replace(/\"/g,"'");x=truncate(x,a);u.innerHTML='<a id="'+A+'"></a>'+u.innerHTML;if(!g){t='<li class="autoTOC" id="src_'+A+'" title="'+e+z+'"><p class="autoTOC" style="color:'+v+';">'+x+"</p></li>";}else{t='<li class="autoTOC" id="src_'+A+'" title="'+e+z+'"><p class="autoTOC" style="font-size: 90%; font-weight: normal;color:'+v+';">&nbsp;&nbsp;-&nbsp;'+x+"</p></li>";}o.push(t);}}}else{return;}if(l){if((o[0])&&(o[0]!="")){r="";f=document.getElementById("autoTocWrapper");for(var s=0;s<o.length;s++){r=r+o[s];}r='<li id="toplink" title="'+j+'"><p class="autoTOC" style="color:'+v+';">'+h+"</p></li>"+r;r='<div id="autoTocMiddle"><div id="autoTocInner"><ul>'+r+"</ul></div></div>";f.innerHTML=r;}$(document).ready(function(){$.fn.tagName=function(){return this.get(0).tagName;};$("div#autoTocInner").css("border-color",c);$("#autoTocWrapper ul li").css("background-color",y);var B='<img src="atoc.gif" border="0" title="'+w+'" />';$("td#atocnav").html(B);$("#atocnav img").mouseover(function(){$(this).attr("src","atoc_h.gif");$(this).css("cursor","pointer");}).mouseout(function(){$(this).attr("src","atoc.gif");});$("#atocnav").click(function(){var D=$("div#idheader").height()+4;D=D+"px";$("div#autoTocWrapper").css("top",D);if(!p){$("#autoTocWrapper").slideToggle("fast");}else{$("#autoTocWrapper").toggle();}});$("li.autoTOC").click(function(){var E=SearchCheck();var D=$(this).attr("id");var F=D.replace(/src_/,"");var G=$("a[id='"+F+"']");if((HMToggles.length!=null)&&(!E)){HMToggleExpandAll(false);}if(!E){aniScroll(G,"menu");}else{setTimeout(function(){$("#idcontent").scrollTo($(G).parent(),600,{offset:-12,axis:"y"});},200);}if(!jQuery.browser.msie){$("a[id='"+F+"']").parent().fadeTo(600,1).fadeTo(300,0.44).fadeTo(300,1).fadeTo(300,0.44).fadeTo(300,1);}return false;});$("#toplink").click(function(){var D=SearchCheck();if(HMToggles.length!=null&&!D){HMToggleExpandAll(false);}$("#idcontent").scrollTo(0,600);return false;});function i(){if(!p){$("#autoTocWrapper").slideUp("fast");}else{$("#autoTocWrapper").hide();}}var C=$("#innerdiv");if(C[0]){addEvent(C[0],"click",i,false);}$(window).bind("resize",function(){var D=$("div#idheader").height()+4;D=D+"px";$("div#autoTocWrapper").css("top",D);});$("#autoTocWrapper ul li").mouseover(function(){$(this).css("backgroundPosition",q);$(this).children().filter("p.autoTOC").css("color",n);});$("#autoTocWrapper ul li").mouseout(function(){$(this).css("backgroundPosition","0px -27px");$(this).children().filter("p.autoTOC").css("color",v);});});}}