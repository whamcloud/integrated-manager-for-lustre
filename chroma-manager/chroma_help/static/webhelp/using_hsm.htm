<!DOCTYPE HTML>
<html>
<head>
   <title>Using HSM</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="After configuring the Copytool Agent node and adding Copytool to that agent, you can use HSM to manage file archiving, free-up file system storage, and improve overall file..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
  div#hmsocialmedia {
  min-width: 606px;
  }
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "add_a_robinhood_policy_engine_.htm",
   prevP: "start_the_copytool.htm",
   currP: "using_hsm.htm",
   defP: "intel_manager_for_lustre.htm",
   mailUrl: "",
   mailUrlQuery: "",
   titleP: "Using HSM",
   mailsubject: "Feedback on: Intel® Manager for Lustre* - Using HSM",
   sharesubject: "Intel® Manager for Lustre* - Using HSM",
   simplesubject: "Documentation%20Feedback",
   mailid: "Using_HSM",
   mailpath: "Configuring and using Hierarchical Storage Management &gt; Using HSM /",
   mailbody: "Dear Support Staff,",
   fbtype: false,
   header: true,
   background: "bg.png",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   printFooter: true,
   zoomTip: "Click to view full size image",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print the current topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Contents",
   atoc_tip: "Jump to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No contents entries on this page",
   atoc_btntip_on: "Display/hide topic directory",
   atoc_toptip: "Jump to top of page",
   atoc_top: "Scroll to Top of Page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click to sort on this column",
   umlauts: "false"
   }

</script>

<script type="text/javascript">
if (tVars.topicTitleBar) { 
$(document).ready(function() {
var doc = document;  
try {
if (parent.hmWebHelp.navWidth != null) doc = parent.document;
doc.title = $("<div/>").html("Intel® Manager for Lustre* - Using HSM").text();
window.onunload = function() {doc.title = $("<div/>").html("Intel® Manager for Lustre*").text();}
} catch(err) {}
});
}
</script>

<script type="text/javascript" src="//platform.linkedin.com/in.js"></script>
<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "using_hsm.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->
<div id="hmsocialmedia">
	<ul class="social-buttons">
	<li>
		<div class="fb-button">
		<iframe src="https://www.facebook.com/plugins/like.php?href=http://www.ec-software.com/help/index.html?using_hsm.htm"
        scrolling="no" frameborder="0"
        style="border:none; width:300px; height:26px"></iframe>
		</div>
	</li>
	<li>
	<div class="twitter-button">
		<a id="tweetthis" href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.ec-software.com/help/index.html?using_hsm.htm" data-via=""><%BTNTEXT_SHARETWEET%</a>
		<script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script>
	</div>
	</li>
	<li>
		<div class="googleplusone-button">
                <g:plusone size="medium" count="false" href="http://www.ec-software.com/help/index.html?using_hsm.htm"></g:plusone>
                </div>
		<script type="text/javascript">
		window.___gcfg = {lang: 'en-US'};
      (function(){var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
    </script>
                
	</li> 
	<li>
		<div class="linkedin-button"><script type="IN/Share" data-url="http://www.ec-software.com/help/index.html?using_hsm.htm"></script></div>
	</li>
	<li>
		<div id="mailthisbutton"><a href="mailto:?body=http://www.ec-software.com/help/index.html%3F<%HREF_CURRENT_PAGE%" class="sbutton">
		<span id="sbuttontext">Mail This</span>
		</a></div>
	</li> 
	</ul>
	</div>


<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Using HSM</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
 
<h1 class="p_Heading1"><span class="f_Heading1">Using HSM</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No contents entries on this page" title="No contents entries on this page" />
<br /><span>Contents</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>

<!--ZOOMRESTART-->
<p class="p_BodyText"><span class="f_BodyText">After configuring the Copytool Agent node and adding Copytool to that agent, you can use HSM to manage file archiving, free-up file system storage, and improve overall file system performance. </span></p>
<p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 18px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">1.</span><span class="f_BodyText">To use HSM, log into a regular Lustre client node as the system administrator. The node is a compute client node not managed by Intel(R) Manager for Lustre software. </span></p><p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 18px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">2.</span><span class="f_BodyText">Issue lfs commands to initiate HSM actions (archive, restore, release, remove). </span><br />
<span class="f_BodyText">For example: </span><span class="f_CodeExample">root@client1234 #: lfs hsm_archive /mnt/lustre/path/to/big_file</span></p><p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 18px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">3.</span><span class="f_BodyText">After issuing this archive command, the administrator can monitor progress on the operation at the Intel® Manager for Lustre* GUI. To monitor progress, click </span><span class="f_BodyText" style="font-weight: bold;">Configuration and click</span><span class="f_BodyText"> </span><span class="f_BodyText" style="font-weight: bold;">HSM</span><span class="f_BodyText"> to open the HSM page and observe copytool archive progress.</span></p><p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 18px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">4.</span><span class="f_BodyText">After the archive operation has completed, you can release command to remove the file from the Lustre file system and free up that space. </span><br />
<span class="f_BodyText">For example: </span><span class="f_CodeExample">root@client1234 #: lfs hsm_release /mnt/lustre/path/to/big_file</span></p><p class="p_BodyText"><span class="f_BodyText">After this command completes, the file’s data exists in the HSM archive, but the file has been moved off of Lustre main storage. You may notice that the available space in the lustre file system has increased (if the file is large enough and the filesystem small enough - </span><span class="f_BodyText">otherwise the change won’t register in the graphs</span><span class="f_BodyText">). </span></p>
<p class="p_BodyText"><span class="f_BodyText">If you want the file to be copied back to the file system, issue an lfs restore command (below). Or simply wait for the next read attempt of that file by a client, and an implicit restore will return the file back to the file system. </span></p>
<p class="p_BodyText"><span class="f_BodyText">Following are lfs hsm commands:</span></p>
<p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 13px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_CodeExample">lfs hsm_archive /mnt/lustre/&lt;path&gt;/&lt;filename&gt;</span><span class="f_BodyText"> - Copies the file to the archive.</span></p><p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 13px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_CodeExample">lfs hsm_release /mnt/lustre/&lt;path&gt;/&lt;filename&gt;</span><span class="f_BodyText"> - Removes the file from the Lustre file system; does not affect the archived file.</span></p><p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 13px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_CodeExample">lfs hsm_restore /mnt/lustre/&lt;path&gt;/&lt;filename&gt;</span><span class="f_BodyText"> - Restores the archived file back to the Lustre file system. This is an asynchronous, non-blocking restore. A client's request to access an archived file will also restore the file back the Lustre file system if is has been released; this will be a synchronous and blocking restore.</span></p><p style="text-align: left; line-height: 1.10; padding: 0px 0px 0px 13px; margin: 0px 0px 8px 0px;"><span style="font-size:12pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_CodeExample">lfs hsm_cancel /mnt/lustre/&lt;path&gt;/&lt;filename&gt;</span><span class="f_BodyText"> - Cancels an lfs_hsm command that is underway.</span></p><p class="p_BodyText"><span class="f_BodyText">&nbsp;</span><br />
<span class="f_BodyText" style="font-weight: bold;">Displaying information about a current lfs_hsm request</span></p>
<p class="p_BodyText"><span class="f_BodyText">To view the progress of HSM copytool activities, click </span><span class="f_BodyText" style="font-weight: bold;">Configuration </span><span class="f_BodyText">and click</span><span class="f_BodyText"> </span><span class="f_BodyText" style="font-weight: bold;">HSM</span><span class="f_BodyText"> to open the HSM page and observe copytool progress. See <a href="monitor_hsm_copytool_activitie.htm" class="topiclink">Monitor HSM Copytool activities</a> for more information.</span></p>
<p class="p_BodyText"><span class="f_BodyText">The command </span><span class="f_CodeExample">lctl get_param mdt.*.hsm. also requests</span><span class="f_BodyText"> returns information about the currently executing HSM request. </span></p>

<!--ZOOMSTOP-->

</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
